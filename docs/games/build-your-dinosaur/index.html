<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ü¶ñ Constr√≥i o Teu Dinossauro! - Build Your Dinosaur!</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Nunito', sans-serif; background: linear-gradient(135deg, #65A30D 0%, #16A34A 100%); min-height: 100vh; padding: 20px; }
        .container { max-width: 800px; margin: 0 auto; }
        .game-card { background: white; border-radius: 24px; padding: 32px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); }
        h1 { font-size: 2.5rem; text-align: center; margin-bottom: 8px; }
        h2 { font-size: 1.2rem; text-align: center; color: #6B7280; margin-bottom: 24px; }
        .dino-display { display: flex; justify-content: center; align-items: end; gap: 4px; margin: 24px 0; padding: 24px 24px 12px; background: linear-gradient(to bottom, #87CEEB 0%, #90EE90 70%, #8B4513 100%); border-radius: 16px; min-height: 180px; }
        .dino-part { width: 60px; height: 60px; background: #A3E635; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 2.2rem; transition: all 0.3s; border: 3px solid #65A30D; }
        .dino-part.unlocked { background: #84CC16; transform: scale(1.15); box-shadow: 0 4px 12px rgba(0,0,0,0.2); }
        .dino-part.locked { opacity: 0.3; background: #D1D5DB; border-color: #9CA3AF; }
        .question-box { background: #F0FDF4; border-radius: 16px; padding: 24px; margin: 24px 0; text-align: center; }
        .question-emoji { font-size: 4rem; margin-bottom: 16px; }
        .question-text { font-size: 1.5rem; font-weight: 700; color: #1F2937; margin-bottom: 8px; }
        .question-hint { font-size: 1rem; color: #6B7280; }
        .answers { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-top: 24px; }
        .answer-btn { padding: 16px 24px; font-size: 1.2rem; font-weight: 600; border: 3px solid #E5E7EB; border-radius: 12px; background: white; cursor: pointer; transition: all 0.2s; font-family: inherit; }
        .answer-btn:hover { border-color: #84CC16; background: #F0FDF4; transform: translateY(-2px); }
        .answer-btn.correct { background: #D1FAE5; border-color: #10B981; }
        .answer-btn.wrong { background: #FEE2E2; border-color: #EF4444; }
        .progress { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; }
        .stars { font-size: 1.5rem; }
        .level-badge { background: #65A30D; color: white; padding: 8px 16px; border-radius: 20px; font-weight: 700; }
        .celebration { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); display: flex; align-items: center; justify-content: center; z-index: 100; }
        .celebration-content { background: white; border-radius: 24px; padding: 48px; text-align: center; max-width: 500px; }
        .celebration h2 { font-size: 2rem; margin: 16px 0; }
        .celebration .emoji { font-size: 5rem; }

        /* Small transient success splash (for each correct answer) */
        .success-splash { position: fixed; left: 50%; top: 18%; transform: translateX(-50%) translateY(-10px); background: linear-gradient(90deg, #10B981, #06B6D4); color: white; padding: 12px 24px; border-radius: 20px; font-weight: 800; font-size: 1.25rem; z-index: 200; opacity: 0; transition: all 0.35s cubic-bezier(.22,.9,.25,1); }
        .success-splash.visible { opacity: 1; transform: translateX(-50%) translateY(0) scale(1.05); }
        .play-btn { background: #65A30D; color: white; border: none; padding: 16px 48px; font-size: 1.2rem; font-weight: 700; border-radius: 12px; cursor: pointer; font-family: inherit; margin-top: 16px; }
        .play-btn:hover { background: #4D7C0F; }
        .hidden { display: none !important; }
        .score-display { text-align: center; font-size: 1.1rem; color: #4B5563; }
    </style>
</head>
<body>
    <div class="container">
        <div class="game-card">
            <h1>ü¶ñ Constr√≥i o Teu Dinossauro!</h1>
            <h2>Build Your Dinosaur!</h2>
            
            <div class="progress">
                <span class="stars" id="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
                <span class="level-badge" id="level">N√≠vel 1</span>
            </div>
            <div class="score-display">Pe√ßas: <span id="parts">0</span>/6</div>
            
            <div class="dino-display">
                <div class="dino-part locked" id="part-4">ü¶∂</div>
                <div class="dino-part locked" id="part-2" style="height:80px">ü¶¥</div>
                <div class="dino-part locked" id="part-0" style="height:90px">ü¶ï</div>
                <div class="dino-part locked" id="part-1" style="height:70px">ü¶¥</div>
                <div class="dino-part locked" id="part-5">ü¶∂</div>
                <div class="dino-part locked" id="part-3" style="width:40px;height:50px">üåø</div>
            </div>
            
            <div class="question-box">
                <div class="question-emoji" id="emoji">ü¶ï</div>
                <div class="question-text" id="question">Loading...</div>
                <div class="question-hint" id="hint"></div>
            </div>
            
            <div class="answers" id="answers"></div>
        </div>
    </div>
    
    <div class="celebration hidden" id="celebration">
        <div class="celebration-content">
            <div class="emoji">üéâü¶ñüåø</div>
            <h2>Parab√©ns! Congratulations!</h2>
            <p>O teu dinossauro est√° vivo! Your dinosaur is alive!</p>
            <button class="play-btn" onclick="location.reload()">Jogar Novamente / Play Again</button>
        </div>
    </div>
    
    <script>
        const levels = [
            { theme: 'Animais Selvagens', questions: [
                { emoji: 'ü¶Å', q: 'O que √© isto?', hint: 'What is this?', answer: 'Le√£o', options: ['Tigre', 'Le√£o', 'Leopardo', 'Gato'] },
                { emoji: 'üêò', q: 'O que √© isto?', hint: 'What is this?', answer: 'Elefante', options: ['Hipop√≥tamo', 'Elefante', 'Rinoceronte', 'Girafa'] },
                { emoji: 'ü¶í', q: 'O que √© isto?', hint: 'What is this?', answer: 'Girafa', options: ['Zebra', 'Camelo', 'Girafa', 'Cavalo'] }
            ]},
            { theme: 'Frutas', questions: [
                { emoji: 'üçå', q: 'O que √© isto?', hint: 'What is this?', answer: 'Banana', options: ['Ma√ß√£', 'Banana', 'Pera', 'Manga'] },
                { emoji: 'üçá', q: 'O que √© isto?', hint: 'What is this?', answer: 'Uvas', options: ['Amoras', 'Cerejas', 'Uvas', 'Mirtilos'] },
                { emoji: 'üçì', q: 'O que √© isto?', hint: 'What is this?', answer: 'Morango', options: ['Cereja', 'Framboesa', 'Morango', 'Tomate'] }
            ]},
            { theme: 'Legumes', questions: [
                { emoji: 'ü•ï', q: 'O que √© isto?', hint: 'What is this?', answer: 'Cenoura', options: ['Batata', 'Cenoura', 'Nabo', 'Beterraba'] },
                { emoji: 'ü•¶', q: 'O que √© isto?', hint: 'What is this?', answer: 'Br√≥colos', options: ['Alface', 'Br√≥colos', 'Espinafre', 'Couve'] },
                { emoji: 'üåΩ', q: 'O que √© isto?', hint: 'What is this?', answer: 'Milho', options: ['Trigo', 'Arroz', 'Milho', 'Aveia'] }
            ]},
            { theme: 'Insetos', questions: [
                { emoji: 'ü¶ã', q: 'O que √© isto?', hint: 'What is this?', answer: 'Borboleta', options: ['Abelha', 'Borboleta', 'Mosca', 'Libelinha'] },
                { emoji: 'üêù', q: 'O que √© isto?', hint: 'What is this?', answer: 'Abelha', options: ['Vespa', 'Abelha', 'Mosca', 'Mosquito'] },
                { emoji: 'üêõ', q: 'O que √© isto?', hint: 'What is this?', answer: 'Lagarta', options: ['Minhoca', 'Lagarta', 'Cobra', 'Caracol'] }
            ]},
            { theme: 'Esta√ß√µes', questions: [
                { emoji: 'üå∏', q: 'Que esta√ß√£o?', hint: 'What season?', answer: 'Primavera', options: ['Ver√£o', 'Primavera', 'Outono', 'Inverno'] },
                { emoji: 'üèñÔ∏è', q: 'Que esta√ß√£o?', hint: 'What season?', answer: 'Ver√£o', options: ['Primavera', 'Ver√£o', 'Outono', 'Inverno'] },
                { emoji: 'üçÇ', q: 'Que esta√ß√£o?', hint: 'What season?', answer: 'Outono', options: ['Primavera', 'Ver√£o', 'Outono', 'Inverno'] }
            ]},
            { theme: 'Dias da Semana', questions: [
                { emoji: '1Ô∏è‚É£', q: 'Primeiro dia?', hint: 'First day?', answer: 'Segunda-feira', options: ['Domingo', 'Segunda-feira', 'Ter√ßa-feira', 'S√°bado'] },
                { emoji: 'üìÖ', q: 'Depois de sexta?', hint: 'After Friday?', answer: 'S√°bado', options: ['Domingo', 'Segunda', 'S√°bado', 'Quinta'] },
                { emoji: '‚õ™', q: 'Dia de descanso?', hint: 'Day of rest?', answer: 'Domingo', options: ['S√°bado', 'Domingo', 'Segunda', 'Sexta'] }
            ]}
        ];
        
        let currentLevel = 0, currentQ = 0, stars = 5, parts = 0;
        
        function shuffle(arr) { return arr.sort(() => Math.random() - 0.5); }
        
        function showQuestion() {
            const level = levels[currentLevel];
            const q = level.questions[currentQ];
            document.getElementById('level').textContent = 'N√≠vel ' + (currentLevel + 1) + ': ' + level.theme;
            document.getElementById('emoji').textContent = q.emoji;
            document.getElementById('question').textContent = q.q;
            document.getElementById('hint').textContent = q.hint;
            
            const answersDiv = document.getElementById('answers');
            answersDiv.innerHTML = '';
            shuffle([...q.options]).forEach(opt => {
                const btn = document.createElement('button');
                btn.className = 'answer-btn';
                btn.textContent = opt;
                btn.disabled = false; // ensure buttons are enabled
                btn.onclick = () => checkAnswer(opt, q.answer, btn);
                answersDiv.appendChild(btn);
            });
        }
        
        function checkAnswer(selected, correct, btn) {
            const btns = document.querySelectorAll('.answer-btn');
            btns.forEach(b => b.disabled = true);
            
            if (selected === correct) {
                btn.classList.add('correct');
                setTimeout(() => nextQuestion(), 800);
            } else {
                btn.classList.add('wrong');
                stars = Math.max(0, stars - 1);
                document.getElementById('stars').textContent = '‚≠ê'.repeat(stars) + '‚òÜ'.repeat(5 - stars);
                btns.forEach(b => { if (b.textContent === correct) b.classList.add('correct'); });
                setTimeout(() => nextQuestion(), 1500);
            }
        }
        
        function nextQuestion() {
            currentQ++;
            if (currentQ >= levels[currentLevel].questions.length) {
                const unlockedPart = partNames[currentLevel];
                document.getElementById('part-' + currentLevel).classList.remove('locked');
                document.getElementById('part-' + currentLevel).classList.add('unlocked');
                parts++;
                document.getElementById('parts').textContent = parts;
                playPling();
                const remaining = partNames.slice(currentLevel + 1);
                showUnlockNotice(unlockedPart, remaining);
                currentLevel++;
                currentQ = 0;
                if (currentLevel >= levels.length) {
                    document.getElementById('celebration').classList.remove('hidden');
                    return;
                }
            }
            showQuestion();
        }
        
        showQuestion();
    </script>
</body>
</html>
